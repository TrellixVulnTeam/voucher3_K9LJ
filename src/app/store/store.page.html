<ion-content *ngIf="widther()" style="--background: #f7f9fd">

  <div style="top: 0px; position: sticky;  display: flex; align-items: center; 
  justify-content: space-between; padding: 7.5px 20px; background-color: #f5783c;z-index: 10000;">
    <img style="height: 20px;" src="assets/logo.png">
  </div>

  <img [ngStyle]="{'height': gettimes() }"
    style='width: 100vw; filter: blur(3px); object-fit: cover; max-height: 250px;' src="{{user.photo}}">

  <div style="margin-top: -5px; padding: 0px 15px 20px 15px; display: flex; align-items: center; text-align: start; background-color: white
    ; flex-direction: column; position: relative;  width: 100%;">

    <img style=" object-fit: cover; border-radius: 1000px; max-width: 300px; max-height: 300px; width: calc( 100vw  / 3);  box-shadow: 1px 3px 5px rgba(0,0,0,0.1);
       height: calc( 100vw  / 3); position: absolute; top: calc((-100vw / 3) / 2);" src="{{user.photo}}">

    <div
      style="z-index: 1000; margin-top: calc((100vw / 3) / 2 + 20px); font-size: 18px; font-weight: bold; color: #262626; letter-spacing: 1.2px;">
      {{user.name}}'s Store</div>

  </div>

  <div *ngIf="lengthof(vouchers) > 0 && lengthof(vendors) > 0" style="padding: 15px; display: flex; flex-wrap: wrap;">

    <div *ngFor="let x of user.store" (click)="go(x)"
      style="width: calc( (100% - 20px ) / 2 ); padding: 15px; margin: 5px; background-color: white; box-shadow: 1px 3px 5px rgba(0,0,0,0.1); border-radius: 10px;">

      <img
        style="width: calc( (100vw - 30px - 30px - 20px) /2); height:  calc( (100vw - 30px - 30px) /2); object-fit: cover;"
        src='{{vouchers[x].thumbnail}}'>

      <div style="font-size: 14px; font-weight: 500; margin-top: 3px;display: -webkit-box;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 2;
        overflow: hidden;">{{vouchers[x].name}}</div>
      <div style='color:black;font-size:13px;margin-top:5px;opacity: .6;'>{{vendors[vouchers[x].by].name || ''}}</div>
      <!-- <div style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap; margin-top: 3px;
         font-size: 10px; color: #888888;">{{x.description}}</div> -->
      <div style="font-size: 14px; font-weight: 500; margin-top: 5px; color: #f5783c;">{{vouchers[x].price_now |
        currency:'RM'}}
        <span *ngIf='x.price_ori>x.price_now'
          style="text-decoration: line-through; color: #bbbbbb; font-size: 12px; margin-left: 5px;">{{vouchers[x].price_ori
          | currency:'RM '}}</span>
      </div>

    </div>

  </div>

  <div style="text-align: center; padding: 10px; font-size: 10px;">version 1.0</div>


</ion-content>

<ion-content *ngIf="!widther()" style="--background: #f7f9fd;">

  <div [ngStyle]="{'margin-left': lefter()}" style="max-width: 800px; width: 100vw;">

    <div style="top: 0px; position: sticky;  display: flex; align-items: center; 
  justify-content: space-between; padding: 7.5px 20px; background-color: #f5783c;z-index: 10000;">
      <img style="height: 20px;" src="assets/logo.png">
    </div>

    <div style="padding: 30px; display: flex; align-items: center; background-color: white;">
      <img style=" object-fit: cover; border-radius: 1000px; max-width: 120px; max-height: 120px; width: calc( 100vw  / 3);  box-shadow: 1px 3px 5px rgba(0,0,0,0.1);
       height: calc( 100vw  / 3); " src="{{user.photo}}">
      <div style=" margin-left: 30px; font-size: 20px; font-weight: bold; color: #262626; letter-spacing: 1.2px;">
        {{user.name}}'s Store</div>
    </div>

    <div *ngIf="lengthof(vouchers) > 0 && lengthof(vendors) > 0" style="padding: 15px; display: flex; flex-wrap: wrap;">


      <div
        style='width:100vw;padding:20px 20px;display:flex;padding-right:0px;display:flex;flex-wrap: wrap;padding-bottom:40px;'>
        <div [ngClass]='animer>4 ? "scaling" : "scalingx"' *ngFor='let x of user.store;let i = index' (click)="go(x)"
          style='margin-right:20px;margin-bottom:20px;background-color:white;box-shadow:1px 5px 10px rgba(0,0,0,0.1);position: relative;'
          [ngStyle]='{"width" : ((widtherget() - 20)/
        (widtherget() / 250)) - 20 +"px" , "transition-delay" : i/10+"s" }'>

          <img style='width:100%; height:100%; max-height: 200px; z-index:10;object-fit: cover;'
            src="{{vouchers[x].thumbnail}}" alt="">

          <div style="padding: 10px;">
            <div style="font-size: 14px; font-weight: 500; margin-top: 3px;display: -webkit-box;
          -webkit-box-orient: vertical;
          -webkit-line-clamp: 2;
          overflow: hidden;">{{vouchers[x].name}}</div>
            <div style='color:black;font-size:13px;margin-top:5px;opacity: .6;'>{{vendors[vouchers[x].by].name || ''}}
            </div>
            <!-- <div style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap; margin-top: 3px;
           font-size: 10px; color: #888888;">{{x.description}}</div> -->
            <div style="font-size: 14px; font-weight: 500; margin-top: 5px; color: #f5783c;">{{vouchers[x].price_now |
              currency:'RM'}}
              <span *ngIf='x.price_ori>x.price_now'
                style="text-decoration: line-through; color: #bbbbbb; font-size: 12px; margin-left: 5px;">{{vouchers[x].price_ori
                | currency:'RM '}}</span>
            </div>
          </div>

        </div>

      </div>

    </div>

    <div style="text-align: center; padding: 10px; font-size: 10px; position: absolute; bottom: 20px; width: 100%;">
      version 1.0</div>
  </div>

</ion-content>