(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"861K":function(t,e,i){"use strict";i.r(e),i.d(e,"GuildPageModule",function(){return O});var n=i("ofXK"),o=i("3Pt+"),c=i("TEn/"),s=i("tyNb"),r=i("Jgta"),a=(i("Zs65"),i("6nsN"),i("fXoL")),p=i("jhN1"),l=i("m/P+"),d=i("tk/3");function g(t,e){if(1&t){const t=a.Qb();a.Pb(0,"img",30),a.Xb("click",function(){return a.mc(t),a.Zb().tomain()}),a.Ob()}}function h(t,e){if(1&t){const t=a.Qb();a.Pb(0,"img",31),a.Xb("click",function(){return a.mc(t),a.Zb().tomain()}),a.Ob()}}function u(t,e){if(1&t){const t=a.Qb();a.Pb(0,"ion-icon",32),a.Xb("click",function(){return a.mc(t),a.Zb().keyword=""}),a.Ob()}}function b(t,e){if(1&t&&(a.Pb(0,"div",44),a.qc(1),a.ac(2,"currency"),a.Ob()),2&t){const t=a.Zb().$implicit;a.Cb(1),a.sc(" ",a.cc(2,1,t.price_now,"RM")," ")}}function m(t,e){1&t&&(a.Pb(0,"div",44),a.qc(1," APPLY FOR FREE "),a.Ob())}function f(t,e){if(1&t&&(a.Pb(0,"div",45),a.qc(1),a.ac(2,"currency"),a.Ob()),2&t){const t=a.Zb().$implicit;a.Cb(1),a.sc(" \xa0",a.cc(2,1,t.price_ori,"RM"),"\xa0")}}const x=function(t){return{width:t}};function w(t,e){if(1&t){const t=a.Qb();a.Pb(0,"div",33),a.Xb("click",function(){a.mc(t);const i=e.$implicit;return a.Zb().go(i.id)}),a.Pb(1,"div",34),a.Pb(2,"div",35),a.Nb(3,"img",36),a.Ob(),a.Pb(4,"div",37),a.Pb(5,"div",38),a.qc(6),a.Ob(),a.Pb(7,"div",39),a.qc(8),a.Ob(),a.Pb(9,"div",40),a.Pb(10,"div",41),a.pc(11,b,3,4,"div",42),a.pc(12,m,2,0,"div",42),a.pc(13,f,3,4,"div",43),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob()}if(2&t){const t=e.$implicit,i=a.Zb();a.fc("ngStyle",a.ic(7,x,900>i.widtherget()?(i.widtherget()-20)/i.rounder(i.widtherget()/200)-20+"px":"calc( ( 900px - 100px ) / 4 )")),a.Cb(3),a.gc("src",t.thumbnail,a.nc),a.Cb(3),a.rc(t.by_name),a.Cb(2),a.rc(t.name),a.Cb(3),a.fc("ngIf",t.price_now),a.Cb(1),a.fc("ngIf",!t.price_now),a.Cb(1),a.fc("ngIf",t.price_ori>t.price_now)}}function v(t,e){1&t&&(a.Pb(0,"div",46),a.Pb(1,"div",47),a.Nb(2,"img",48),a.Pb(3,"div",49),a.qc(4,"Nothing Here"),a.Ob(),a.Pb(5,"div",50),a.qc(6,"There are no items in this list."),a.Ob(),a.Ob(),a.Ob())}const y=function(t,e){return{"padding-left":t,"padding-right":e}},P=[{path:"",component:(()=>{class t{constructor(t,e,i,n,o,c,s){this.meta=t,this.platform=e,this.activatedRoute=i,this.nav=n,this.title=o,this.iab=c,this.http=s,this.guild="",this.user="",this.voucher=[],this.guildinfo={},this.influencer={},this.links={},this.puller=this.platform.width()/2,this.enter=!1,this.keyword="",this.page=1}join(){window.open("https://register.vsnap.my/influencer?referrer_id="+this.user)}ngOnInit(){console.log("Do nothing"),this.guild=this.activatedRoute.snapshot.paramMap.get("guild")||"-Mi1CWT_I2PzSyxVe2eS",this.user=this.activatedRoute.snapshot.paramMap.get("user")||"yRSIH0mIALf4PsxkwSUFkKnjdMI3",this.http.post("https://us-central1-newvsnap.cloudfunctions.net/vsnapsql/getmeta2",{type:"guild",id:this.guild}).subscribe(t=>{Object.keys(t.success).length>0&&(console.log(t.success),this.title.setTitle(t.success.name+"'s Vsnap Guild Store"),this.meta.updateTag({name:"description",content:t.success.description}),this.meta.updateTag({itemprop:"name",content:t.success.name+"'s Vsnap Guild Store"}),this.meta.updateTag({itemprop:"description",content:t.success.slogan||""}),this.meta.updateTag({itemprop:"image",content:t.success.photo||"https://i.imgur.com/cW5MqH2.png"}),this.meta.updateTag({property:"og:url",content:"https://deal.vsnap.my/guild/"+this.guild+"/"+this.user}),this.meta.updateTag({property:"og:type",content:"website"}),this.meta.updateTag({property:"og:description",content:t.success.slogan||""}),this.meta.updateTag({property:"og:title",content:t.success.name+"'s Vsnap Guild Store"}),this.meta.updateTag({property:"og:image",content:t.success.photo||"https://i.imgur.com/cW5MqH2.png"}),this.meta.updateTag({property:"og:image:secure_url",content:t.success.photo||"https://i.imgur.com/cW5MqH2.png"}),this.meta.updateTag({property:"fb:app_id",content:"2713339858890729"}),this.meta.updateTag({property:"og:image:width",content:"500"}),this.meta.updateTag({property:"og:image:height",content:"500"}))})}ionViewWillEnter(){this.guild=this.activatedRoute.snapshot.paramMap.get("guild")||"-Mi1CWT_I2PzSyxVe2eS",this.user=this.activatedRoute.snapshot.paramMap.get("user")||"yRSIH0mIALf4PsxkwSUFkKnjdMI3",r.a.database().ref("guild/"+this.guild).once("value",t=>{t.exists()?(this.guildinfo=t.val(),console.log(this.guildinfo),(this.guildinfo.store||[]).forEach(t=>{console.log(t),this.http.post("https://api2.vsnap.my/getvouchers",{id:t}).subscribe(e=>{(e.data.price_vsnap||0)/(e.data.price_now||0)>=.1&&"CSR2021"!=e.data.tag&&1==e.data.status&&(this.voucher[t]=e.data||{},console.log(this.voucher))},t=>{})}),this.influencer.id=this.user,this.http.post("https://api2.vsnap.my/getusers",{id:this.user}).subscribe(t=>{t.data.guild==this.guild?this.influencer=t.data||{}:this.http.post("https://api2.vsnap.my/getusers",{id:this.guildinfo.by}).subscribe(t=>{t.data.guild==this.guild?this.influencer=t.data||{}:this.tomain()},t=>{this.tomain()})},t=>{this.http.post("https://api2.vsnap.my/getusers",{id:this.guildinfo.by}).subscribe(t=>{t.data.guild==this.guild?this.influencer=t.data||{}:this.tomain()},t=>{this.tomain()})})):this.tomain()}),r.a.database().ref("link").once("value",t=>{this.links=t.val()}),this.http.post("https://us-central1-newvsnap.cloudfunctions.net/vsnapsql/getmeta2",{type:"guild",id:this.guild}).subscribe(t=>{Object.keys(t.success).length&&(console.log(t.success),this.title.setTitle(t.success.name+"'s Vsnap Guild Store"),this.meta.updateTag({name:"description",content:t.success.description}),this.meta.updateTag({itemprop:"name",content:t.success.name+"'s Vsnap Guild Store"}),this.meta.updateTag({itemprop:"description",content:t.success.slogan||""}),this.meta.updateTag({itemprop:"image",content:t.success.photo||"https://i.imgur.com/cW5MqH2.png"}),this.meta.updateTag({property:"og:url",content:"https://deal.vsnap.my/guild/"+this.guild+"/"+this.user}),this.meta.updateTag({property:"og:type",content:"website"}),this.meta.updateTag({property:"og:description",content:t.success.slogan||""}),this.meta.updateTag({property:"og:title",content:t.success.name+"'s Vsnap Guild Store"}),this.meta.updateTag({property:"og:image",content:t.success.photo||"https://i.imgur.com/cW5MqH2.png"}),this.meta.updateTag({property:"og:image:secure_url",content:t.success.photo||"https://i.imgur.com/cW5MqH2.png"}),this.meta.updateTag({property:"fb:app_id",content:"2713339858890729"}),this.meta.updateTag({property:"og:image:width",content:"500"}),this.meta.updateTag({property:"og:image:height",content:"500"}))})}outside(t){this.iab.create(this.links[t],"_system")}lengthof(t){return t?t.length:0}stringornot(t){return"string"==typeof t}widther(t){return this.puller=this.platform.width()>=900?450:this.platform.width()<600?300:this.platform.width()/2,this.platform.width()>=t}rounder(t){return Math.floor(t)}widtherget(){return this.platform.width()}go(t){this.nav.navigateForward("home/"+t+"/"+this.user)}store(t){this.nav.navigateForward("store/"+t)}countpage(t,e){return t?Math.ceil(t.length/e):1}pager(t,e,i,n){if(t)return t.length>e*n?t.filter(1==i?(t,i)=>i>=0&&i<e*n:(t,i)=>i>=e*(n-1)&&i<e*n):1==i?t:t.filter((i,n)=>t.length%e==0?n>=t.length-e:n>=t.length-t.length%e)}loadData(t){setTimeout(()=>{console.log("Done"),this.page+=1,t.target.complete()},500)}filterer(t){return t?Object.values(t).filter(t=>(t.name+t.by_name).toLowerCase().includes(this.keyword.toLowerCase())):[]}tomain(){this.nav.navigateForward("main?user="+this.user)}}return t.\u0275fac=function(e){return new(e||t)(a.Mb(p.b),a.Mb(c.p),a.Mb(s.a),a.Mb(c.o),a.Mb(p.c),a.Mb(l.a),a.Mb(d.a))},t.\u0275cmp=a.Gb({type:t,selectors:[["app-guild"]],decls:45,vars:14,consts:[[2,"--background","#f7f9fd"],[2,"width","100vw","background-color","#f7f9fd",3,"ngStyle"],[2,"width","100%","display","flex","align-items","center","justify-content","space-between","padding","0px 20px","background-color","white","border-bottom","1px solid #eeeeee","height","70px"],["style","height:30px;object-fit: contain;cursor: pointer;","src","https://i.imgur.com/pEyI97C.png","alt","",3,"click",4,"ngIf"],["style","height:40px;width:40px;;object-fit: contain;cursor: pointer;","src","https://i.imgur.com/vCmo9nR.png","alt","",3,"click",4,"ngIf"],[2,"display","flex","align-items","center","justify-content","flex-end",3,"click"],["alt","",2,"height","40px","width","40px","object-fit","cover","border-radius","100%",3,"src"],[2,"margin-left","10px","cursor","pointer"],[2,"font-size","14px","color","#333333","background-color","white","margin-right","20px","text-align","left","font-weight","bold","white-space","nowrap","overflow","hidden","text-overflow","ellipsis","max-width","90px"],[2,"font-size","12px","color","#999999","margin-top","2px"],[2,"background-color","#eeeeee","width","100%","background-color","#525dc2","padding","10px 20px","display","flex","align-items","center","justify-content","center","margin-bottom","0px"],["alt","",2,"height","30px","width","30px","border-radius","10px","object-fit","cover","margin-right","15px",3,"src"],[2,"font-size","16px","font-weight","bold","letter-spacing","1px","text-align","center","color","white"],[2,"width","calc( 100% )","padding","15px 15px"],[2,"display","flex","align-items","center","border","1px solid #dddddd","padding","6px 10px","border-radius","3px","height","35px","background-color","white"],["slot","start","name","search",2,"font-size","18px","margin-right","10px","color","#c7c7c7"],["type","text","placeholder","Search Products",1,"ion-no-padding",2,"width","calc(100% - 18px - 10px - 18px - 15px)","margin-right","15px","font-size","12px","letter-spacing",".5px",3,"ngModel","ngModelChange"],["name","close-circle-sharp","style","color:#c7c7c7;font-size: 18px;",3,"click",4,"ngIf"],[2,"width","100%","display","flex","flex-wrap","wrap","padding-left","20px","background-color","white"],["style","margin-right:20px;margin-bottom:20px;background-color:white;box-shadow:1px 5px 10px rgba(0,0,0,0.1);position: relative;",3,"ngStyle","click",4,"ngFor","ngForOf"],["style","width:100%;",4,"ngIf"],[2,"padding","40px","border-top","1px solid #eeeeee","background-color","white"],[2,"font-size","12px","color","#999999","text-align","center","margin-bottom","10px"],[2,"text-decoration","underline",3,"click"],[2,"font-size","12px","color","#999999","text-align","center","margin-bottom","20px"],[2,"text-align","center","display","flex","align-items","center","justify-content","center"],[2,"cursor","pointer",";font-size","10px","color","#525dc2",3,"click"],[2,"cursor","pointer","font-size","10px","color","#525dc2",3,"click"],["threshold","100px",3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Loading more data..."],["src","https://i.imgur.com/pEyI97C.png","alt","",2,"height","30px","object-fit","contain","cursor","pointer",3,"click"],["src","https://i.imgur.com/vCmo9nR.png","alt","",2,"height","40px","width","40px",";object-fit","contain","cursor","pointer",3,"click"],["name","close-circle-sharp",2,"color","#c7c7c7","font-size","18px",3,"click"],[2,"margin-right","20px","margin-bottom","20px","background-color","white","box-shadow","1px 5px 10px rgba(0,0,0,0.1)","position","relative",3,"ngStyle","click"],[2,"width","100%","cursor","pointer"],[2,"width","100%","padding-bottom","100%","position","relative"],["alt","",2,"width","100%","height","100%","top","0","left","0","right","0","bottom","0","position","absolute","z-index","10","object-fit","cover",3,"src"],[2,"padding","10px","width","100%"],[2,"border","1px solid #eeeeee","padding","3px 7px","font-size","12px","letter-spacing",".5px","color","#999999",";margin-bottom","3px","width","max-content"],[2,"font-size","14px","color","#262626","font-weight","bold"],[2,"width","100%","display","flex","justify-content","space-between","align-items","center"],[2,"margin-top","5px","display","flex","align-items","center"],["style","font-size:14px;font-weight: bold;color:#8a1515;",4,"ngIf"],["style","font-size:11px;font-weight: normal;color:#999999;;text-decoration:line-through;margin-left:5px;",4,"ngIf"],[2,"font-size","14px","font-weight","bold","color","#8a1515"],[2,"font-size","11px","font-weight","normal","color","#999999",";text-decoration","line-through","margin-left","5px"],[2,"width","100%"],[2,"width","calc( 100% - 40px )","margin","20px","padding","20px","display","flex","justify-content","center","align-items","center","background-color","white","flex-direction","column"],["src","https://i.pinimg.com/originals/5d/35/e3/5d35e39988e3a183bdc3a9d2570d20a9.gif","alt","",2,"width","200px"],[2,"font-size","16px","font-weight","bold","color","#666666","text-align","center"],[2,"padding-top","5px","font-size","14px","font-weight","normal","color","#666666","text-align","center"]],template:function(t,e){1&t&&(a.Pb(0,"ion-content",0),a.Pb(1,"div",1),a.Pb(2,"div",2),a.pc(3,g,1,0,"img",3),a.pc(4,h,1,0,"img",4),a.Pb(5,"div",5),a.Xb("click",function(){return e.store(e.influencer.id)}),a.Nb(6,"img",6),a.Pb(7,"div",7),a.Pb(8,"div",8),a.qc(9),a.Ob(),a.Pb(10,"div",9),a.qc(11,"Visit my store >"),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Pb(12,"div",10),a.Nb(13,"img",11),a.Pb(14,"div",12),a.qc(15),a.Ob(),a.Ob(),a.Pb(16,"div",13),a.Pb(17,"div",14),a.Nb(18,"ion-icon",15),a.Pb(19,"ion-input",16),a.Xb("ngModelChange",function(t){return e.keyword=t}),a.Ob(),a.pc(20,u,1,0,"ion-icon",17),a.Ob(),a.Ob(),a.Pb(21,"div",18),a.pc(22,w,14,9,"div",19),a.pc(23,v,7,0,"div",20),a.Ob(),a.Pb(24,"div",21),a.Pb(25,"div",22),a.qc(26,"Become a vsnap influencer or become a vsnap vendor?\xa0 "),a.Pb(27,"span",23),a.Xb("click",function(){return e.join()}),a.qc(28,"join us now."),a.Ob(),a.Ob(),a.Pb(29,"div",24),a.qc(30,"\xa9 Copyright 2020- All rights reserved - Vsnap by Vsnap Global Sdn Bhd. version 6.1.0"),a.Ob(),a.Pb(31,"div",25),a.Pb(32,"span",26),a.Xb("click",function(){return e.outside("terms")}),a.qc(33,"Terms & Condition"),a.Ob(),a.qc(34,"\xa0\u2022\xa0"),a.Pb(35,"span",27),a.Xb("click",function(){return e.outside("privacy")}),a.qc(36,"Privacy Policy"),a.Ob(),a.qc(37,"\xa0\u2022\xa0"),a.Pb(38,"span",27),a.Xb("click",function(){return e.outside("disclaimer")}),a.qc(39,"Disclaimer"),a.Ob(),a.qc(40,"\xa0\u2022\xa0"),a.Pb(41,"span",27),a.Xb("click",function(){return e.outside("refund")}),a.qc(42,"Refund Policy"),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Pb(43,"ion-infinite-scroll",28),a.Xb("ionInfinite",function(t){return e.loadData(t)}),a.Nb(44,"ion-infinite-scroll-content",29),a.Ob(),a.Ob()),2&t&&(a.Cb(1),a.fc("ngStyle",a.jc(11,y,1==e.widther(900)?" calc( ( 100vw - 900px ) / 2 )":"0px",1==e.widther(900)?" calc( ( 100vw - 900px ) / 2 )":"0px")),a.Cb(2),a.fc("ngIf",1==e.widther(400)),a.Cb(1),a.fc("ngIf",0==e.widther(400)),a.Cb(2),a.gc("src",e.influencer.photo?e.stringornot(e.influencer.photo)?e.influencer.photo:e.influencer.photo[0]:"https://i.imgur.com/GvrNqUS.png",a.nc),a.Cb(3),a.sc(" ",e.influencer.name,""),a.Cb(4),a.gc("src",e.guildinfo.photo,a.nc),a.Cb(2),a.sc("",e.guildinfo.name,"\xa0Official Store"),a.Cb(4),a.fc("ngModel",e.keyword),a.Cb(1),a.fc("ngIf",""!=e.keyword),a.Cb(2),a.fc("ngForOf",e.pager(e.filterer(e.voucher),20,!0,e.page)),a.Cb(1),a.fc("ngIf",0==e.lengthof(e.pager(e.filterer(e.voucher),20,!0,e.page))))},directives:[c.c,n.n,n.m,c.d,c.g,c.q,o.e,o.f,n.l,c.e,c.f],pipes:[n.c],styles:[""]}),t})()}];let k=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Kb({type:t}),t.\u0275inj=a.Jb({imports:[[s.i.forChild(P)],s.i]}),t})(),O=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Kb({type:t}),t.\u0275inj=a.Jb({imports:[[n.b,o.a,c.l,k]]}),t})()}}]);