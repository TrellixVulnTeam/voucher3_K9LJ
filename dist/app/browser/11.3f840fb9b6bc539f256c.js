(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{NFwV:function(t,i,e){"use strict";e.r(i),e.d(i,"StorePageModule",function(){return k});var n=e("ofXK"),o=e("3Pt+"),c=e("TEn/"),r=e("tyNb"),a=e("Jgta"),s=(e("Zs65"),e("fXoL"));function p(t,i){if(1&t&&(s.Pb(0,"span",19),s.nc(1),s.ac(2,"currency"),s.Ob()),2&t){const t=s.Zb().$implicit,i=s.Zb(3);s.Cb(1),s.oc(s.bc(2,1,i.vouchers[t].price_ori,"RM "))}}function b(t,i){if(1&t){const t=s.Qb();s.Pb(0,"div",13),s.Xb("click",function(){s.jc(t);const e=i.$implicit;return s.Zb(3).go(e)}),s.Nb(1,"img",14),s.Pb(2,"div",15),s.nc(3),s.Ob(),s.Pb(4,"div",16),s.nc(5),s.Ob(),s.Pb(6,"div",17),s.nc(7),s.ac(8,"currency"),s.mc(9,p,3,4,"span",18),s.Ob(),s.Ob()}if(2&t){const t=i.$implicit,e=s.Zb(3);s.Cb(1),s.fc("src",e.vouchers[t].thumbnail,s.kc),s.Cb(2),s.oc(e.vouchers[t].name),s.Cb(2),s.oc(e.vendors[e.vouchers[t].by].name||""),s.Cb(2),s.pc("",s.bc(8,5,e.vouchers[t].price_now,"RM")," "),s.Cb(2),s.ec("ngIf",t.price_ori>t.price_now)}}function d(t,i){if(1&t&&(s.Pb(0,"div",11),s.mc(1,b,10,8,"div",12),s.Ob()),2&t){const t=s.Zb(2);s.Cb(1),s.ec("ngForOf",t.user.store)}}const l=function(t){return{height:t}};function g(t,i){if(1&t&&(s.Pb(0,"ion-content",2),s.Pb(1,"div",3),s.Nb(2,"img",4),s.Ob(),s.Nb(3,"img",5),s.Pb(4,"div",6),s.Nb(5,"img",7),s.Pb(6,"div",8),s.nc(7),s.Ob(),s.Ob(),s.mc(8,d,2,1,"div",9),s.Pb(9,"div",10),s.nc(10,"version 1.0"),s.Ob(),s.Ob()),2&t){const t=s.Zb();s.Cb(3),s.fc("src",t.user.photo,s.kc),s.ec("ngStyle",s.gc(5,l,t.gettimes())),s.Cb(2),s.fc("src",t.user.photo,s.kc),s.Cb(2),s.pc(" ",t.user.name,"'s Store"),s.Cb(1),s.ec("ngIf",t.lengthof(t.vouchers)>0&&t.lengthof(t.vendors)>0)}}function h(t,i){if(1&t&&(s.Pb(0,"span",19),s.nc(1),s.ac(2,"currency"),s.Ob()),2&t){const t=s.Zb().$implicit,i=s.Zb(3);s.Cb(1),s.oc(s.bc(2,1,i.vouchers[t].price_ori,"RM "))}}const x=function(t,i){return{width:t,"transition-delay":i}};function f(t,i){if(1&t){const t=s.Qb();s.Pb(0,"div",27),s.Xb("click",function(){s.jc(t);const e=i.$implicit;return s.Zb(3).go(e)}),s.Nb(1,"img",28),s.Pb(2,"div",29),s.Pb(3,"div",15),s.nc(4),s.Ob(),s.Pb(5,"div",16),s.nc(6),s.Ob(),s.Pb(7,"div",17),s.nc(8),s.ac(9,"currency"),s.mc(10,h,3,4,"span",18),s.Ob(),s.Ob(),s.Ob()}if(2&t){const t=i.$implicit,e=i.index,n=s.Zb(3);s.ec("ngClass",n.animer>4?"scaling":"scalingx")("ngStyle",s.hc(10,x,(n.widtherget()-20)/(n.widtherget()/250)-20+"px",e/10+"s")),s.Cb(1),s.fc("src",n.vouchers[t].thumbnail,s.kc),s.Cb(3),s.oc(n.vouchers[t].name),s.Cb(2),s.pc("",n.vendors[n.vouchers[t].by].name||""," "),s.Cb(2),s.pc("",s.bc(9,7,n.vouchers[t].price_now,"RM")," "),s.Cb(2),s.ec("ngIf",t.price_ori>t.price_now)}}function u(t,i){if(1&t&&(s.Pb(0,"div",11),s.Pb(1,"div",25),s.mc(2,f,11,13,"div",26),s.Ob(),s.Ob()),2&t){const t=s.Zb(2);s.Cb(2),s.ec("ngForOf",t.user.store)}}const v=function(t){return{"margin-left":t}};function w(t,i){if(1&t&&(s.Pb(0,"ion-content",2),s.Pb(1,"div",20),s.Pb(2,"div",3),s.Nb(3,"img",4),s.Ob(),s.Pb(4,"div",21),s.Nb(5,"img",22),s.Pb(6,"div",23),s.nc(7),s.Ob(),s.Ob(),s.mc(8,u,3,1,"div",9),s.Pb(9,"div",24),s.nc(10," version 1.0"),s.Ob(),s.Ob(),s.Ob()),2&t){const t=s.Zb();s.Cb(1),s.ec("ngStyle",s.gc(4,v,t.lefter())),s.Cb(4),s.fc("src",t.user.photo,s.kc),s.Cb(2),s.pc(" ",t.user.name,"'s Store"),s.Cb(1),s.ec("ngIf",t.lengthof(t.vouchers)>0&&t.lengthof(t.vendors)>0)}}const m=[{path:"",component:(()=>{class t{constructor(t,i,e){this.platform=t,this.actRoute=i,this.nav=e,this.user=[],this.vouchers=[],this.vendors=[],this.animer=0}rounder(t){return Math.floor(t)}ionViewDidEnter(){this.id=this.actRoute.snapshot.paramMap.get("id"),a.a.database().ref("users/"+this.id).once("value",t=>{this.user=t.val()}),a.a.database().ref("vouchers").once("value",t=>{this.vouchers=t.val(),setInterval(()=>{this.animer+=1},100)}),a.a.database().ref("vendors").once("value",t=>{this.vendors=t.val()})}lengthof(t){return t?Object.keys(t).length:0}lefter(){return this.platform.width()>800?(this.platform.width()-800)/2+"px":this.platform.width()}widtherget(){return this.platform.width()}gettimes(){return this.platform.width()>600?"calc( 100vw / 3 )":"calc( 100vw / 1.5 )"}widther(){return!(this.platform.width()>600)}go(t){this.nav.navigateForward("home/"+t+"/"+this.id)}}return t.\u0275fac=function(i){return new(i||t)(s.Mb(c.q),s.Mb(r.a),s.Mb(c.p))},t.\u0275cmp=s.Gb({type:t,selectors:[["app-store"]],decls:2,vars:2,consts:[["style","--background: #f7f9fd",4,"ngIf"],["style","--background: #f7f9fd;",4,"ngIf"],[2,"--background","#f7f9fd"],[2,"top","0px","position","sticky","display","flex","align-items","center","justify-content","space-between","padding","7.5px 20px","background-color","#f5783c","z-index","10000"],["src","assets/logo.png",2,"height","20px"],[2,"width","100vw","filter","blur(3px)","object-fit","cover","max-height","250px",3,"ngStyle","src"],[2,"margin-top","-5px","padding","0px 15px 20px 15px","display","flex","align-items","center","text-align","start","background-color","white","flex-direction","column","position","relative","width","100%"],[2,"object-fit","cover","border-radius","1000px","max-width","300px","max-height","300px","width","calc( 100vw  / 3)","box-shadow","1px 3px 5px rgba(0,0,0,0.1)","height","calc( 100vw  / 3)","position","absolute","top","calc((-100vw / 3) / 2)",3,"src"],[2,"z-index","1000","margin-top","calc((100vw / 3) / 2 + 20px)","font-size","18px","font-weight","bold","color","#262626","letter-spacing","1.2px"],["style","padding: 15px; display: flex; flex-wrap: wrap;",4,"ngIf"],[2,"text-align","center","padding","10px","font-size","10px"],[2,"padding","15px","display","flex","flex-wrap","wrap"],["style","width: calc( (100% - 20px ) / 2 ); padding: 15px; margin: 5px; background-color: white; box-shadow: 1px 3px 5px rgba(0,0,0,0.1); border-radius: 10px;",3,"click",4,"ngFor","ngForOf"],[2,"width","calc( (100% - 20px ) / 2 )","padding","15px","margin","5px","background-color","white","box-shadow","1px 3px 5px rgba(0,0,0,0.1)","border-radius","10px",3,"click"],[2,"width","calc( (100vw - 30px - 30px - 20px) /2)","height","calc( (100vw - 30px - 30px) /2)","object-fit","cover",3,"src"],[2,"font-size","14px","font-weight","500","margin-top","3px","display","-webkit-box","-webkit-box-orient","vertical","-webkit-line-clamp","2","overflow","hidden"],[2,"color","black","font-size","13px","margin-top","5px","opacity",".6"],[2,"font-size","14px","font-weight","500","margin-top","5px","color","#f5783c"],["style","text-decoration: line-through; color: #bbbbbb; font-size: 12px; margin-left: 5px;",4,"ngIf"],[2,"text-decoration","line-through","color","#bbbbbb","font-size","12px","margin-left","5px"],[2,"max-width","800px","width","100vw",3,"ngStyle"],[2,"padding","30px","display","flex","align-items","center","background-color","white"],[2,"object-fit","cover","border-radius","1000px","max-width","120px","max-height","120px","width","calc( 100vw  / 3)","box-shadow","1px 3px 5px rgba(0,0,0,0.1)","height","calc( 100vw  / 3)",3,"src"],[2,"margin-left","30px","font-size","20px","font-weight","bold","color","#262626","letter-spacing","1.2px"],[2,"text-align","center","padding","10px","font-size","10px","position","absolute","bottom","20px","width","100%"],[2,"width","100vw","padding","20px 20px","display","flex","padding-right","0px","display","flex","flex-wrap","wrap","padding-bottom","40px"],["style","margin-right:20px;margin-bottom:20px;background-color:white;box-shadow:1px 5px 10px rgba(0,0,0,0.1);position: relative;",3,"ngClass","ngStyle","click",4,"ngFor","ngForOf"],[2,"margin-right","20px","margin-bottom","20px","background-color","white","box-shadow","1px 5px 10px rgba(0,0,0,0.1)","position","relative",3,"ngClass","ngStyle","click"],["alt","",2,"width","100%","height","100%","max-height","200px","z-index","10","object-fit","cover",3,"src"],[2,"padding","10px"]],template:function(t,i){1&t&&(s.mc(0,g,11,7,"ion-content",0),s.mc(1,w,11,6,"ion-content",1)),2&t&&(s.ec("ngIf",i.widther()),s.Cb(1),s.ec("ngIf",!i.widther()))},directives:[n.k,c.d,n.l,n.j,n.i],pipes:[n.c],styles:[""]}),t})()}];let y=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=s.Kb({type:t}),t.\u0275inj=s.Jb({imports:[[r.i.forChild(m)],r.i]}),t})(),k=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=s.Kb({type:t}),t.\u0275inj=s.Jb({imports:[[n.b,o.a,c.n,y]]}),t})()}}]);