(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{py0n:function(t,i,e){"use strict";e.r(i),e.d(i,"FnbqrPageModule",function(){return C});var n=e("ofXK"),o=e("3Pt+"),c=e("TEn/"),r=e("tyNb"),p=e("mrSG"),s=e("fXoL"),d=e("tk/3");const a=["slides"];function b(t,i){if(1&t&&(s.Pb(0,"ion-slide",10),s.Nb(1,"img",11),s.Ob()),2&t){const t=i.$implicit;s.Cb(1),s.gc("src",t,s.nc)}}function l(t,i){if(1&t){const t=s.Qb();s.Pb(0,"div",23),s.Xb("click",function(){return s.mc(t),s.Zb(2).tnc()}),s.qc(1," Term of Use"),s.Ob()}}function x(t,i){if(1&t){const t=s.Qb();s.Pb(0,"div",12),s.Nb(1,"img",13),s.Pb(2,"div",14),s.qc(3),s.Ob(),s.Pb(4,"div",15),s.qc(5),s.Ob(),s.Pb(6,"div",16),s.Pb(7,"div",17),s.qc(8,"Available"),s.Ob(),s.Pb(9,"div",18),s.qc(10),s.Ob(),s.Ob(),s.Nb(11,"div",19),s.Nb(12,"img",20),s.Pb(13,"div",21),s.qc(14,"Kindly present your QR code to the shop keeper in order to activate your promotion."),s.Ob(),s.Pb(15,"div",22),s.Pb(16,"div",23),s.Xb("click",function(){return s.mc(t),s.Zb().menu()}),s.qc(17," Service Menu"),s.Ob(),s.Pb(18,"div",23),s.Xb("click",function(){return s.mc(t),s.Zb().copy2()}),s.qc(19," Share to Friends"),s.Ob(),s.Pb(20,"div",23),s.Xb("click",function(){return s.mc(t),s.Zb().outlet()}),s.qc(21," Get Direction"),s.Ob(),s.pc(22,l,2,0,"div",24),s.Ob(),s.Ob()}if(2&t){const t=s.Zb();s.Cb(1),s.gc("src",t.photos[0],s.nc),s.Cb(2),s.sc("Vendor Name : ",t.vendor.name,""),s.Cb(2),s.sc(" ",t.vendor.promote_text||"Let Merchant set this QR Code to Recieve extral Reward",""),s.Cb(5),s.sc("Referred by :\xa0",t.user.name,""),s.Cb(2),s.gc("src",t.qr,s.nc),s.Cb(10),s.fc("ngIf",t.vendor.tnc_text)}}function g(t,i){if(1&t){const t=s.Qb();s.Pb(0,"div",32),s.Xb("click",function(){s.mc(t);const e=i.index,n=s.Zb().$implicit;return s.Zb(2).openpic(n.products,e)}),s.Nb(1,"img",33),s.Pb(2,"div",34),s.Pb(3,"div",35),s.qc(4),s.Ob(),s.Pb(5,"div",36),s.qc(6),s.Ob(),s.Pb(7,"div",37),s.qc(8),s.ac(9,"currency"),s.Ob(),s.Ob(),s.Ob()}if(2&t){const t=i.$implicit;s.Cb(1),s.gc("src",t.photo,s.nc),s.Cb(3),s.rc(t.name),s.Cb(2),s.rc(t.description||"\u5546\u5bb6\u6ca1\u7559\u4e0b\u8be6\u60c5\u54e6"),s.Cb(2),s.rc(s.cc(9,4,t.price,"RM "))}}function h(t,i){if(1&t&&(s.Pb(0,"div"),s.Pb(1,"div",30),s.qc(2),s.Ob(),s.pc(3,g,10,7,"div",31),s.Ob()),2&t){const t=i.$implicit;s.Cb(2),s.sc("",t.name," "),s.Cb(1),s.fc("ngForOf",t.products)}}function f(t,i){if(1&t){const t=s.Qb();s.Pb(0,"div",25),s.Pb(1,"div",26),s.Pb(2,"ion-icon",27),s.Xb("click",function(){return s.mc(t),s.Zb().tab=0}),s.Ob(),s.Pb(3,"div",28),s.qc(4,"\u7535\u5b50\u76ee\u5f55"),s.Ob(),s.Ob(),s.pc(5,h,4,2,"div",29),s.Ob()}if(2&t){const t=s.Zb();s.Cb(5),s.fc("ngForOf",t.emenu)}}function u(t,i){if(1&t){const t=s.Qb();s.Pb(0,"div",45),s.Xb("click",function(){s.mc(t);const i=s.Zb().$implicit;return s.Zb(2).opengps(i.gps)}),s.qc(1," Open Map"),s.Ob()}}function m(t,i){if(1&t){const t=s.Qb();s.Pb(0,"div",45),s.Xb("click",function(){s.mc(t);const i=s.Zb().$implicit;return s.Zb(2).copy(i.contact)}),s.qc(1),s.Ob()}if(2&t){const t=s.Zb().$implicit;s.Cb(1),s.sc(" ",t.contact,"")}}function v(t,i){if(1&t&&(s.Pb(0,"div",40),s.Pb(1,"div",41),s.Pb(2,"div",35),s.qc(3),s.Ob(),s.Pb(4,"div",42),s.qc(5),s.Ob(),s.Pb(6,"div",43),s.pc(7,u,2,0,"div",44),s.pc(8,m,2,1,"div",44),s.Ob(),s.Ob(),s.Ob()),2&t){const t=i.$implicit;s.Cb(3),s.rc(t.name),s.Cb(2),s.rc(t.address),s.Cb(2),s.fc("ngIf",t.gps),s.Cb(1),s.fc("ngIf",t.contact)}}function w(t,i){if(1&t){const t=s.Qb();s.Pb(0,"div",25),s.Pb(1,"div",38),s.Pb(2,"ion-icon",27),s.Xb("click",function(){return s.mc(t),s.Zb().tab=0}),s.Ob(),s.Pb(3,"div",28),s.qc(4,"\u6240\u6709\u5206\u5e97"),s.Ob(),s.Ob(),s.pc(5,v,9,4,"div",39),s.Ob()}if(2&t){const t=s.Zb();s.Cb(5),s.fc("ngForOf",t.vendor_acc)}}function O(t,i){if(1&t){const t=s.Qb();s.Pb(0,"div",25),s.Pb(1,"div",38),s.Pb(2,"ion-icon",27),s.Xb("click",function(){return s.mc(t),s.Zb().tab=0}),s.Ob(),s.Pb(3,"div",28),s.qc(4,"\u4f18\u60e0\u6761\u89c4"),s.Ob(),s.Ob(),s.Pb(5,"div",46),s.Pb(6,"div",47),s.qc(7),s.Ob(),s.Ob(),s.Ob()}if(2&t){const t=s.Zb();s.Cb(7),s.rc(t.vendor.tnc_text)}}const y=function(){return[]},P=[{path:"",component:(()=>{class t{constructor(t,i,e,n){this.nav=t,this.activatedRoute=i,this.http=e,this.toastctrl=n,this.vendor={},this.emenu=[],this.photos=[],this.vendor_acc=[],this.qr="",this.user={},this.userid="",this.id="",this.close=!1,this.nowphoto=[],this.tab=0}checkslide(t){this.slides.getActiveIndex().then(t=>{this.currentIndex=t})}openpic(t,i){this.nowphoto=t.map(t=>t.photo),this.currentIndex=i,this.close=!0,this.slides.slideTo(i,10),this.close=!0}ngOnInit(){this.activatedRoute.queryParams.subscribe(t=>{console.log(t.id),this.id=t.id,console.log(t.userid),this.userid=t.userid,this.http.post("https://api2.vsnap.my/getvendors",{id:t.id}).subscribe(t=>{this.vendor=t.data||{},console.log(this.vendor)},t=>{}),this.http.post("https://api2.vsnap.my/getemenu",{id:t.id}).subscribe(t=>{console.log(t.data),this.emenu=t.data||[],this.photos=this.emenu.map(t=>t.products).reduce((t,i)=>t.concat(i),[]).map(t=>t.photo),this.lengthof(this.photos)>0||(this.photos=["https://image.freepik.com/free-vector/restaurant-mural-wallpaper_23-2148692632.jpg"]),console.log(this.photos),console.log(this.emenu)},t=>{}),this.http.post("https://api2.vsnap.my/getvendor_acc",{id:t.id}).subscribe(t=>{this.vendor_acc=t.data||[],console.log(this.vendor_acc)},t=>{}),this.http.post("https://api2.vsnap.my/getusers",{id:t.userid}).subscribe(t=>{this.user=t.data||[],console.log(this.user)},t=>{}),this.qr="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data="+t.id+","+t.userid,console.log(this.qr)})}menu(){this.tab=1}back(){this.nav.pop()}lengthof(t){return Object.keys(t||{}).length}outlet(){this.tab=3}tnc(){this.tab=4}copy(t){return Object(p.__awaiter)(this,void 0,void 0,function*(){document.addEventListener("copy",i=>{i.clipboardData.setData("text/plain",t),i.preventDefault(),document.removeEventListener("copy",null)}),document.execCommand("copy"),(yield this.toastctrl.create({message:"\u5546\u5bb6\u53f7\u7801\u5df2\u5728\u4f60\u7684\u526a\u8d34\u677f",duration:2e3})).present()})}copy2(){return Object(p.__awaiter)(this,void 0,void 0,function*(){document.addEventListener("copy",t=>{t.clipboardData.setData("text/plain","\u70b9\u51fb\u4e00\u4e0b\u8fde\u63a5\u4ee5\u4eab\u6709"+this.vendor.name+"\u7684\u7279\u522b\u6298\u6263\nhttps://deal.vsnap.my/fnbqr?id="+this.id+"&userid="+this.userid+"\n\u53ea\u5728 RedHood"),t.preventDefault(),document.removeEventListener("copy",null)}),document.execCommand("copy"),(yield this.toastctrl.create({message:"\u7f51\u5740\u5df2\u5728\u4f60\u7684\u526a\u8d34\u677f",duration:2e3})).present()})}opengps(t){window.open(t)}}return t.\u0275fac=function(i){return new(i||t)(s.Mb(c.o),s.Mb(r.a),s.Mb(d.a),s.Mb(c.r))},t.\u0275cmp=s.Gb({type:t,selectors:[["app-fnbqr"]],viewQuery:function(t,i){if(1&t&&s.wc(a,3),2&t){let t;s.lc(t=s.Yb())&&(i.slides=t.first)}},decls:13,vars:7,consts:[[2,"--background","#e6e3ff"],[2,"position","fixed","left","0","background-color","rgba(0,0,0,0.85)","display","flex","justify-content","center","align-items","center","width","100vw","height","100vh","z-index","10000","flex-direction","column",3,"ngClass"],[2,"width","100%","position","relative"],[2,"font-size","10px","padding","5px 10px","border-radius","2px","color","white","background-color","#f53c3c","position","absolute","top","15px","right","15px","z-index","10","font-weight","bold",3,"click"],["zoom","true","pager","true",2,"width","100%","height","100%","display","flex","justify-content","center","align-items","center",3,"ionSlideDidChange"],["slides",""],["style","display:flex;justify-content: center;align-items: center;width:100%;height:100%;",4,"ngFor","ngForOf"],[1,"paddingcon",2,"position","relative"],["style","width:calc( 100% - 60px );background-color: rgba(255,255,255,1);min-height:calc( 100vh - 150px );margin:75px 30px;border-radius:10px;box-shadow:1px 5px 10px rgba(0,0,0,0.1);",4,"ngIf"],["style","width:calc( 100% - 60px );background-color: rgba(255,255,255,1);min-height:calc( 100vh - 200px );margin:100px 30px;border-radius:10px;box-shadow:1px 5px 10px rgba(0,0,0,0.1);padding:15px;",4,"ngIf"],[2,"display","flex","justify-content","center","align-items","center","width","100%","height","100%"],["alt","",2,"width","100%","object-fit","contain",3,"src"],[2,"width","calc( 100% - 60px )","background-color","rgba(255,255,255,1)","min-height","calc( 100vh - 150px )","margin","75px 30px","border-radius","10px","box-shadow","1px 5px 10px rgba(0,0,0,0.1)"],["alt","",2,"width","100%","height","120px","object-fit","cover","border-top-left-radius","10px","border-top-right-radius","10px",3,"src"],[2,"font-size","12px","color","#999999","letter-spacing",".5px","padding","10px 15px","padding-bottom","5px"],[2,"font-size","16px","font-weight","bold","color","#333333","letter-spacing","1px","padding","0px 15px"],[2,"width","100%","display","flex","align-items","center","justify-content","space-between","padding","15px"],[2,"color","#00b871","font-size","12px","letter-spacing",".5px"],[2,"font-size","12px","color","#999999","letter-spacing",".5px"],[2,"width","100%","border-bottom","1px dashed #eeeeee"],["alt","",2,"margin","15px","width","calc( 100% - 50px )",3,"src"],[2,"font-size","12px","color","#999999","padding","0px 15px","text-align","center","letter-spacing",".5px"],[2,"padding","15px","width","100%","display","flex","align-items","center","flex-wrap","wrap","justify-content","center"],[2,"background-color","#00b871","padding","7px 15px","border-radius","5px","font-size","14px","color","white","letter-spacing",".5px","margin-right","7px","margin-bottom","7px",3,"click"],["style","background-color: #00b871;padding:7px 15px;border-radius:5px;font-size:14px;color:white;letter-spacing: .5px;margin-right:7px;margin-bottom:7px;;",3,"click",4,"ngIf"],[2,"width","calc( 100% - 60px )","background-color","rgba(255,255,255,1)","min-height","calc( 100vh - 200px )","margin","100px 30px","border-radius","10px","box-shadow","1px 5px 10px rgba(0,0,0,0.1)","padding","15px"],[2,"display","flex","align-items","center","padding-bottom","10px"],["name","arrow-back-outline",2,"font-size","14px","color","#333333","margin-right","10px",3,"click"],[2,"font-size","14px","font-weight","bold","color","#333333","letter-spacing",".5px"],[4,"ngFor","ngForOf"],[2,"font-size","16px","font-weight","bold","color","#333333","letter-spacing",".5px","margin-top","10px"],["style","width:100%;display:flex;padding:10px 0px;border-bottom:1px solid #eeeeee;",3,"click",4,"ngFor","ngForOf"],[2,"width","100%","display","flex","padding","10px 0px","border-bottom","1px solid #eeeeee",3,"click"],["alt","",2,"height","70px","width","70px","border-radius","5px",3,"src"],[2,"width","calc( 100% - 70px )","padding-left","10px"],[2,"font-size","12px","letter-spacing",".5px","color","#333333"],[2,"font-size","11px","color","#999999","letter-spacing",".5px","margin-top","2px","display","-webkit-box","-webkit-box-orient","vertical","-webkit-line-clamp","2","overflow","hidden"],[2,"margin-top","5px","font-size","12px","font-weight","bold","letter-spacing",".5px"],[2,"display","flex","align-items","center"],["style","width:100%;display:flex;border-bottom:1px solid #eeeeee;padding-bottom:8px;padding-top:15px;",4,"ngFor","ngForOf"],[2,"width","100%","display","flex","border-bottom","1px solid #eeeeee","padding-bottom","8px","padding-top","15px"],[2,"width","calc( 100% )"],[2,"font-size","11px","color","#999999","letter-spacing",".5px","margin-top","3px"],[2,"display","flex","width","100%","flex-wrap","wrap","margin-top","7px"],["style","padding:3px 7px;font-size:12px;border:1px solid #eeeeee;border-radius:5px;color:#999999;margin-right:7px;margin-bottom:7px;",3,"click",4,"ngIf"],[2,"padding","3px 7px","font-size","12px","border","1px solid #eeeeee","border-radius","5px","color","#999999","margin-right","7px","margin-bottom","7px",3,"click"],[2,"width","100%","display","flex","padding-bottom","8px","padding-top","15px","font-size","12px"],[2,"white-space","pre-line","font-size","12px"]],template:function(t,i){1&t&&(s.Pb(0,"ion-content",0),s.Pb(1,"div",1),s.Pb(2,"div",2),s.Pb(3,"div",3),s.Xb("click",function(){return i.close=!i.close}),s.qc(4," Close"),s.Ob(),s.Pb(5,"ion-slides",4,5),s.Xb("ionSlideDidChange",function(t){return i.checkslide(t)}),s.pc(7,b,2,1,"ion-slide",6),s.Ob(),s.Ob(),s.Ob(),s.Pb(8,"div",7),s.pc(9,x,23,6,"div",8),s.pc(10,f,6,1,"div",9),s.pc(11,w,6,1,"div",9),s.pc(12,O,8,1,"div",9),s.Ob(),s.Ob()),2&t&&(s.Cb(1),s.fc("ngClass",1==i.close?"inner":"innerx"),s.Cb(6),s.fc("ngForOf",i.nowphoto||s.hc(6,y)),s.Cb(2),s.fc("ngIf",0==i.tab),s.Cb(1),s.fc("ngIf",1==i.tab),s.Cb(1),s.fc("ngIf",3==i.tab),s.Cb(1),s.fc("ngIf",4==i.tab))},directives:[c.c,n.k,c.j,n.l,n.m,c.i,c.d],pipes:[n.c],styles:[".inner[_ngcontent-%COMP%]{top:0;opacity:1;z-index:100}.inner[_ngcontent-%COMP%], .innerx[_ngcontent-%COMP%]{transition:all .2s ease}.innerx[_ngcontent-%COMP%]{top:100%;opacity:0;z-index:-1}"]}),t})()}];let k=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=s.Kb({type:t}),t.\u0275inj=s.Jb({imports:[[r.i.forChild(P)],r.i]}),t})(),C=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=s.Kb({type:t}),t.\u0275inj=s.Jb({imports:[[n.b,o.a,c.l,k]]}),t})()}}]);